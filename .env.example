# ============================================
# REQUIRED ENVIRONMENT VARIABLES
# ============================================
# These variables MUST be set for the application to run

# Database Configuration
# PostgreSQL connection string for the application database
# Format: postgresql://username:password@host:port/database?schema=public
# Example: postgresql://postgres:password@localhost:5432/mais_inventory?schema=public
# 
# Development: Use direct connection
# Production: Use connection pooling URL (e.g., Vercel Postgres pooled connection)
DATABASE_URL="postgresql://user:password@localhost:5432/medical_inventory?schema=public"

# Direct database connection URL (without connection pooling)
# REQUIRED for production migrations and administrative tasks
# Use this URL for running Prisma migrations in production
# Example: postgresql://user:password@direct-host:5432/database
DATABASE_URL_DIRECT=""

# Database Connection Pool Settings
# Minimum number of connections to maintain in the pool
DATABASE_POOL_MIN="2"

# Maximum number of connections allowed in the pool
# Recommended: 10 for serverless, 20-50 for traditional hosting
DATABASE_POOL_MAX="10"

# Connection pool timeout in seconds
# How long to wait for an available connection before timing out
DATABASE_POOL_TIMEOUT="20"

# NextAuth Configuration
# Secret key for encrypting session tokens and cookies
# REQUIRED: Must be at least 32 characters
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret-key-here-generate-with-openssl-rand-base64-32"

# Base URL of your application
# Development: http://localhost:3000
# Production: https://yourdomain.com
NEXTAUTH_URL="http://localhost:3000"

# Gemini AI Configuration
# API key for Google Gemini AI integration
# REQUIRED: Must start with "AIzaSy"
# Get your key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY="your-gemini-api-key-here"

# AI Model Selection
# Default model for Gemini AI (gemini-1.5-pro, gemini-pro, etc.)
GEMINI_MODEL="gemini-1.5-pro"

# Application Environment
# Must be one of: development, production, test
NODE_ENV="development"

# Public Application URL
# Used for generating absolute URLs in emails and exports
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ============================================
# OPTIONAL: Audit System Configuration
# ============================================

# Secret key for cryptographically signing audit logs (tamper-proof)
# RECOMMENDED: Provides additional security for audit trail
# Generate with: openssl rand -base64 32
AUDIT_SIGNING_SECRET="your-audit-signing-secret-here-generate-with-openssl"

# Redis URL for asynchronous audit log queue (optional)
# If not provided, audit logging will be synchronous
# Format: redis://[username:password@]host:port[/database]
AUDIT_QUEUE_REDIS_URL="redis://localhost:6379"

# ============================================
# Backup System Configuration
# ============================================

# Directory path for storing backup files
# Development: ./backups (relative path)
# Production: /var/backups/mais-inventory (absolute path)
BACKUP_STORAGE_PATH="./backups"

# Secret key for encrypting backup files
# RECOMMENDED: Protects sensitive data in backups
# Generate with: openssl rand -base64 32
BACKUP_ENCRYPTION_KEY="your-backup-encryption-key-here-generate-with-openssl"

# Maximum storage space for backups (in GB)
# System will automatically clean old backups when limit is reached
BACKUP_MAX_STORAGE_GB="100"

# ============================================
# Report System Configuration
# ============================================

# Directory path for storing generated report files
# Development: ./public/reports (accessible via web)
# Production: /var/reports/mais-inventory (absolute path)
REPORT_STORAGE_PATH="./public/reports"

# ============================================
# OPTIONAL: Email/SMTP Configuration
# ============================================
# Required for email notifications (backup alerts, report delivery, etc.)
# Leave empty to disable email features

# SMTP server hostname (e.g., smtp.gmail.com, smtp.office365.com)
SMTP_HOST="smtp.example.com"

# SMTP server port (usually 587 for TLS, 465 for SSL, 25 for unencrypted)
SMTP_PORT="587"

# Use SSL/TLS for SMTP connection (true/false)
SMTP_SECURE="false"

# SMTP authentication username
SMTP_USER="your-smtp-username"

# SMTP authentication password
SMTP_PASSWORD="your-smtp-password"

# Email address to send from (must be valid email format)
SMTP_FROM="noreply@mais-inventory.com"

# Display name for outgoing emails
SMTP_FROM_NAME="Saudi Mais Inventory System"

# Administrator email for system notifications
ADMIN_EMAIL="admin@mais-inventory.com"

# ============================================
# Cron/Scheduling Configuration
# ============================================

# Timezone for scheduled tasks (IANA timezone format)
# Examples: Asia/Riyadh, America/New_York, Europe/London
# Default: Asia/Riyadh
CRON_TIMEZONE="Asia/Riyadh"

# ============================================
# Security Configuration
# ============================================

# Maximum API requests allowed per minute per IP address
# Helps prevent abuse and DDoS attacks
# Default: 60
RATE_LIMIT_PER_MINUTE="60"

# User session timeout in minutes
# Users will be logged out after this period of inactivity
# Default: 30
SESSION_TIMEOUT="30"

# Maximum failed login attempts before account lockout
# Default: 5
MAX_LOGIN_ATTEMPTS="5"

# ============================================
# Feature Flags
# ============================================
# Control which features are enabled in the application

# Enable AI-powered insights and analytics (true/false)
NEXT_PUBLIC_ENABLE_AI_INSIGHTS="true"

# Enable automatic backup scheduling (true/false)
NEXT_PUBLIC_ENABLE_AUTO_BACKUP="true"

# Enable audit logging system (true/false)
ENABLE_AUDIT_SYSTEM="true"

# Enable backup management system (true/false)
ENABLE_BACKUP_SYSTEM="true"

# Enable report generation system (true/false)
ENABLE_REPORT_SYSTEM="true"

# ============================================
# Logging Configuration
# ============================================

# Enable verbose debug logging (true/false)
# WARNING: Only enable in development - produces large log files
DEBUG_MODE="false"

# Minimum log level to output
# Options: debug, info, warn, error
# Development: debug or info
# Production: warn or error
LOG_LEVEL="info"
